(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d613f476"],{"3a41":function(t,e,r){"use strict";var n=r("b299"),a=r.n(n);a.a},"6ece":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"divBox"},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"container"},[r("el-form",{attrs:{size:"small","label-width":"120px"}},[r("el-form-item",{staticStyle:{display:"block"},attrs:{label:"状态："}},[r("el-radio-group",{staticClass:"mr20",attrs:{type:"button",size:"small",clearable:""},on:{change:function(e){return t.selectChange(t.tableFrom.status)}},model:{value:t.tableFrom.status,callback:function(e){t.$set(t.tableFrom,"status",e)},expression:"tableFrom.status"}},t._l(t.fromList.fromTxt,(function(e,n){return r("el-radio-button",{key:n,attrs:{label:e.val}},[t._v(t._s(e.text))])})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"预售活动状态："}},[r("el-select",{staticClass:"filter-item selWidth mr20",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getList},model:{value:t.tableFrom.pre_status,callback:function(e){t.$set(t.tableFrom,"pre_status",e)},expression:"tableFrom.pre_status"}},t._l(t.preSaleStatusList,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"关键字搜索："}},[r("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入商品名称，关键字，产品编号"},model:{value:t.tableFrom.keyword,callback:function(e){t.$set(t.tableFrom,"keyword",e)},expression:"tableFrom.keyword"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getList},slot:"append"})],1)],1)],1)],1),t._v(" "),t.headeNum.length>0?r("el-tabs",{on:{"tab-click":function(e){return t.getList(1)}},model:{value:t.tableFrom.order_type,callback:function(e){t.$set(t.tableFrom,"order_type",e)},expression:"tableFrom.order_type"}},t._l(t.headeNum,(function(t,e){return r("el-tab-pane",{key:e,attrs:{name:t.order_type.toString(),label:t.title+"("+t.count+")"}})})),1):t._e(),t._v(" "),r("router-link",{attrs:{to:{path:t.roterPre+"/marketing/preSale/create"}}},[r("el-button",{attrs:{size:"small",type:"primary"}},[r("i",{staticClass:"add"},[t._v("+")]),t._v(" 添加预售商品\n        ")])],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.data,size:"mini"}},[r("el-table-column",{attrs:{prop:"product_id",label:"ID","min-width":"50"}}),t._v(" "),r("el-table-column",{attrs:{label:"商品图","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("div",{staticClass:"demo-image__preview"},[r("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"store_name",label:"商品名称","min-width":"120"}}),t._v(" "),r("el-table-column",{attrs:{prop:"price",label:"预售价","min-width":"90"}}),t._v(" "),r("el-table-column",{attrs:{prop:"price",label:"定金","min-width":"90"}}),t._v(" "),r("el-table-column",{attrs:{prop:"stock",label:"预售活动状态","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("seckillStatusFilter")(e.row.seckill_status)))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"预售活动日期","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[t._v("开始日期："+t._s(e.row.seckillActive&&e.row.seckillActive.start_day?e.row.seckillActive.start_day.slice(0,10):""))]),t._v(" "),r("div",[t._v("结束日期："+t._s(e.row.seckillActive&&e.row.seckillActive.end_day?e.row.seckillActive.end_day.slice(0,10):""))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"第一阶段 | 成功/参与人数","render-header":t.renderheader,"min-width":"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.stock)+" / "+t._s(e.row.sales))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"第二阶段 | 成功/参与人数","render-header":t.renderheader,"min-width":"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.stock)+" / "+t._s(e.row.sales))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"已售商品数","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.stock-e.row.sales))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"显示状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"上架","inactive-text":"下架"},on:{change:function(r){return t.onchangeIsShow(e.row)}},model:{value:e.row.is_show,callback:function(r){t.$set(e.row,"is_show",r)},expression:"scope.row.is_show"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"审核状态","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("seckillReviewStatusFilter")(e.row.status)))]),t._v(" "),-1==e.row.status||-2==e.row.status?r("span",{staticStyle:{"font-size":"12px"}},[r("br"),t._v("\n            原因："+t._s(e.row.refusal)+"\n          ")]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作","min-width":"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("router-link",{attrs:{to:{path:t.roterPre+"/marketing/seckill/createGoods/"+e.row.product_id}}},[r("el-button",{staticClass:"mr10",attrs:{type:"text",size:"small"}},[t._v("编辑")])],1),t._v(" "),"5"===t.tableFrom.type?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.handleRestore(e.row.product_id)}}},[t._v("恢复商品")]):t._e(),t._v(" "),"1"!==t.tableFrom.type&&"3"!==t.tableFrom.type&&"4"!==t.tableFrom.type?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.handleDelete(e.row.product_id,e.$index)}}},[t._v(t._s("5"===t.tableFrom.type?"删除":"加入回收站"))]):t._e()]}}])})],1),t._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":t.tableFrom.limit,"current-page":t.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1)],1)},a=[],o=(r("28a5"),r("c4c8")),s=r("83d6"),l=r("f8b7"),i={name:"ProductList",data:function(){return{props:{emitPath:!1},roterPre:s["roterPre"],listLoading:!0,tableData:{data:[],total:0},preSaleStatusList:[{label:"未开始",value:2},{label:"正在进行",value:3},{label:"已结束",value:1}],fromList:{custom:!0,fromTxt:[{text:"全部",val:""},{text:"待审核",val:"1"},{text:"已审核",val:"2"},{text:"审核失败",val:"-1"}]},tableFrom:{page:1,limit:20,keyword:"",pre_status:"",status:""},modals:!1,headeNum:[]}},mounted:function(){this.getList(),this.getHeaderList()},methods:{renderheader:function(t,e){var r=e.column;e.$index;return t("span",{},[t("span",{},r.label.split("|")[0]),t("br"),t("span",{},r.label.split("|")[1])])},getHeaderList:function(){var t=this;Object(l["k"])().then((function(e){t.headeNum=e.data})).catch((function(e){t.$message.error(e.message)}))},onClose:function(){this.modals=!1},handleRestore:function(t){var e=this;this.$modalSure("恢复商品").then((function(){Object(o["E"])(t).then((function(t){e.$message.success(t.message),e.getList()})).catch((function(t){e.$message.error(t.message)}))}))},getList:function(){var t=this;this.listLoading=!0,Object(o["z"])(this.tableFrom).then((function(e){t.tableData.data=e.data.list,t.tableData.total=e.data.count,t.listLoading=!1})).catch((function(e){t.listLoading=!1,t.$message.error(e.message)}))},pageChange:function(t){this.tableFrom.page=t,this.getList()},handleSizeChange:function(t){this.tableFrom.limit=t,this.getList()},handleDelete:function(t,e){var r=this;this.$modalSure("5"!==this.tableFrom.type?"加入回收站":"").then((function(){"5"===r.tableFrom.type?Object(o["C"])(t).then((function(t){var e=t.message;r.$message.success(e),r.getList()})).catch((function(t){var e=t.message;r.$message.error(e)})):Object(o["D"])(t).then((function(t){var e=t.message;r.$message.success(e),r.getList()})).catch((function(t){var e=t.message;r.$message.error(e)}))}))},onchangeIsShow:function(t){var e=this;Object(o["F"])(t.product_id,t.is_show).then((function(t){var r=t.message;e.$message.success(r),e.getList()})).catch((function(t){var r=t.message;e.$message.error(r)}))}}},c=i,u=(r("3a41"),r("2877")),d=Object(u["a"])(c,n,a,!1,null,"12d85b20",null);e["default"]=d.exports},b299:function(t,e,r){},f8b7:function(t,e,r){"use strict";r.d(e,"l",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"p",(function(){return s})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return i})),r.d(e,"m",(function(){return c})),r.d(e,"o",(function(){return u})),r.d(e,"h",(function(){return d})),r.d(e,"n",(function(){return f})),r.d(e,"t",(function(){return m})),r.d(e,"r",(function(){return p})),r.d(e,"w",(function(){return b})),r.d(e,"v",(function(){return g})),r.d(e,"u",(function(){return h})),r.d(e,"q",(function(){return v})),r.d(e,"b",(function(){return _})),r.d(e,"f",(function(){return w})),r.d(e,"s",(function(){return k})),r.d(e,"e",(function(){return y})),r.d(e,"d",(function(){return x})),r.d(e,"c",(function(){return F})),r.d(e,"g",(function(){return S})),r.d(e,"k",(function(){return L})),r.d(e,"x",(function(){return $})),r.d(e,"y",(function(){return C}));var n=r("0c6d");function a(t){return n["a"].get("store/order/lst",t)}function o(){return n["a"].get("store/order/chart")}function s(t){return n["a"].get("store/order/update/".concat(t,"/form"))}function l(t){return n["a"].get("store/order/delivery/".concat(t,"/form"))}function i(t){return n["a"].get("store/order/detail/".concat(t))}function c(t,e){return n["a"].get("store/order/log/".concat(t),e)}function u(t){return n["a"].get("store/order/remark/".concat(t,"/form"))}function d(t){return n["a"].post("store/order/delete/".concat(t))}function f(t){return n["a"].get("store/order/printer/".concat(t))}function m(t){return n["a"].get("store/refundorder/lst",t)}function p(t){return n["a"].get("store/refundorder/detail/".concat(t))}function b(t){return n["a"].get("store/refundorder/status/".concat(t,"/form"))}function g(t){return n["a"].get("store/refundorder/mark/".concat(t,"/form"))}function h(t){return n["a"].get("store/refundorder/log/".concat(t))}function v(t){return n["a"].get("store/refundorder/delete/".concat(t))}function _(t){return n["a"].post("store/refundorder/refund/".concat(t))}function w(t){return n["a"].get("store/order/express/".concat(t))}function k(t){return n["a"].get("store/refundorder/express/".concat(t))}function y(t){return n["a"].get("store/order/excel",t)}function x(t){return n["a"].get("excel/lst",t)}function F(t){return n["a"].get("excel/download/".concat(t))}function S(t){return n["a"].post("store/order/verify/".concat(t))}function L(){return n["a"].get("store/order/filtter")}function $(){return n["a"].get("store/order/takechart")}function C(t){return n["a"].get("store/order/takelst",t)}}}]);